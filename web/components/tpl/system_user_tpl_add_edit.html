<!--
File   : system_user_tpl_add_edit.html
Created: Tuesday September 18th 2018 11:22:10 am
Author : yuchunyu97
License: MIT License

Copyright (c) 2018 yuchunyu97

Permission is hereby granted, free of charge, to any person obtaining a copy of
this software and associated documentation files (the "Software"), to deal in
the Software without restriction, including without limitation the rights to
use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies
of the Software, and to permit persons to whom the Software is furnished to do
so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
-----
Last Modified: Tuesday September 25th 2018 3:51:12 pm
Modified By  : yuchunyu97 at <yuchunyu97@gmail.com>
-----
Description: 
-----
HISTORY:
-->
<style>
    .layui-layer[type='page'] .layui-layer-content {
        overflow-y: scroll!important;
    }
</style>
<div class="layui-tpl-container layui-form" style="padding-bottom: 10px;" lay-filter="userAddTpl">
    <!-- 新增和编辑表单 -->
    <div>
        <div class="layui-form-item">
            <label class="layui-form-label"><span style="color: red;">*</span>用户类别</label>
            <div class="layui-input-block userType-loading">
                <select name="userType" xm-select="userType_pop" xm-select-skin="normal" xm-select-direction="up" xm-select-radio="" disabled>
                    <option value="A">内部用户</option>
                    <option value="B">供应商</option>
                    <option value="C">其他</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label"><span style="color: red;">*</span>企业代码</label>
            <div class="layui-input-block">
                <input type="text" name="companyCode" placeholder="请输入用户名称" class="layui-input layui-disabled" value="SGMW" disabled>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label"><span style="color: red;">*</span>企业名称</label>
            <div class="layui-input-block">
                <input type="text" name="companyName" placeholder="请输入用户名称" class="layui-input layui-disabled" value="上汽通用五菱汽车股份有限公司" disabled>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label"><span style="color: red;">*</span>用户名称</label>
            <div class="layui-input-block">
                <input type="text" name="userName" placeholder="请输入用户名称" class="layui-input" lay-verify="required">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label"><span style="color: red;">*</span> 登录账号</label>
            <div class="layui-input-block">
                <input type="text" name="userCode" placeholder="请输入登录账号" class="layui-input" lay-verify="required">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label"><span style="color: red;">*</span> 所属角色</label>
            <div class="layui-input-block roleName-loading">
                <select name="roleName" xm-select="roleName_pop" xm-select-direction="down" xm-select-height="10px" lay-verify="required">
                    <option value="">选择角色类型</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">邮件地址</label>
            <div class="layui-input-block">
                <input type="email" name="email" placeholder="请输入邮件地址" class="layui-input" lay-verify="unrequired">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">所属组织</label>
            <div class="layui-input-block orgName-loading">
                <input type="hidden" name="departName" id="departName">
                <select name="departCode" xm-select="orgName_pop" xm-select-skin="normal" xm-select-direction="down" xm-select-radio="">
                    <option value="">选择组织机构</option>
                </select>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">职位</label>
            <div class="layui-input-block orgName-loading">
                <input type="hidden" name="jobName" id="jobName">
                <input type="text" name="jobCode" id="jobTree" placeholder="请选择职位" class="layui-input" lay-filter="jobCode">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">备注</label>
            <div class="layui-input-block">
                <input type="text" name="remark" placeholder="请输入备注" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">签名来源</label>
            <div class="layui-input-block">
                <input type="radio" name="signType" value="0" title="登录用户姓名" checked>
                <input type="radio" name="signType" value="1" title="使用图片签名">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">签名图片</label>
            <div class="layui-input-block">
                <button type="button" class="layui-btn" id="test1">
                    <i class="layui-icon">&#xe67c;</i>上传图片
                </button>
                <div class="layui-upload-list">
                    <img class="layui-upload-img" id="demo1" style="width:100%;height:100%">
                    <p id="demoText"></p>
                </div>
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">注:</label>
            <div class="layui-input-block userStatus-loading" style="line-height:30px">
                密码初始值为111111
            </div>
        </div>
        <div class="layui-form-item" style="text-align: center">
            <button class="layui-btn layui-btn-normal" lay-submit lay-filter="menuSave_user">保存</button>
            <button class="layui-btn layui-btn-primary" lay-filter="menuCancle_user" id="menuCancle_user">取消</button>
        </div>
    </div>

    <div class="p-form">
        <input type="text" name="type" id="type" style="display: none;">
        <input type="text" name="userId" id="userId" style="display: none;">
        <input type="text" name="fileId" id="fileId" style="display: none;">
        <!--<div class="layui-form-item">
            <label class="layui-form-label">工号</label>
            <div class="layui-input-block">
                <input type="text" name="userCode" placeholder="请输入工号" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">办公电话</label>
            <div class="layui-input-block">
                <input type="text" name="officePhone" placeholder="请输入办公电话" class="layui-input" lay-verify="officePhone">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">手机号码</label>
            <div class="layui-input-block">
                <input type="text" name="cellPhoneNumber" placeholder="请输入手机号码" class="layui-input" lay-verify="cellPhoneNumber">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">家庭住址</label>
            <div class="layui-input-block">
                <input type="text" name="homeAddress" placeholder="请输入家庭住址" class="layui-input">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">邮政编码</label>
            <div class="layui-input-block">
                <input type="text" name="postalCode" placeholder="请输入邮政编码" class="layui-input" lay-verify="postalCode">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">电子邮件</label>
            <div class="layui-input-block">
                <input type="text" name="email" placeholder="请输入电子邮件" class="layui-input" lay-verify="DIYemail">
            </div>
        </div>
        <div class="layui-form-item">
            <label class="layui-form-label">通信地址</label>
            <div class="layui-input-block">
                <input type="text" name="contactAddress" placeholder="请输入通信地址" class="layui-input">
            </div>
        </div>-->

        <!-- 提交按钮 -->
        <!-- 取消按钮 -->
    </div>
</div>
<script>
    layui.use(['admin', 'upload'], function() {
        var admin = layui.admin;
        var layer = layui.layer;
        var upload = layui.upload;
        $("#menuCancle_user").click(function() {
            layer.closeAll();
        });
        var uploadInst = upload.render({
            elem: '#test1' //绑定元素
                ,
            url: '/api/sys/file-management/eduUpload' //上传接口
                ,
            data: {
                subSysCode: 'ddd'
            },
            before: function(obj) {
                //预读本地文件示例，不支持ie8
                obj.preview(function(index, file, result) {
                    $('#demo1').attr('src', result); //图片链接（base64）
                });
            },
            done: function(res) {
                //上传完毕回调
                if (res.ok) {
                    $("#fileId").val(res.data.fileid);
                } else {
                    layer.msg("上传失败", {
                        icon: 5
                    });
                }
            },
            error: function() {
                //请求异常回调
            }
        });
    })
</script>