



接口设计说明书
项目名称：







版本1.0




中国汽车技术研究中心有限公司
2019年1月
 
关于本文档：
项目名称	xxx系统 V1.0
主   题	接口设计说明文档
说   明	本文描述了本项目在前后端接口设计方面的内容，主要包括接口功能和接口定义，一般格式规定，前后端对接约定等。
适用对象	数据资源中心项目工程领导小组、项目经理、项目组全体成员以及相关人员。主要用于后端开发人员和前端开发人员的接口对接和协同工作。
修 订 历 史
版 本	章 节	类 型	日 期	作 者	说 明
1.0		C	2019-1-1	xxx	文档创建，规定了**
					
					
说明：类型－创建（C）、修改（U）、删除（D）、增加（A）；


 
目    录
第一章 前言	2
1.1编写目的	2
1.2 术语和缩略语	2
第二章 功能接口定义	3
2.1模块名称1	3
2.1.1 接口名称1	3
第三章 常见组件接口格式约定	5
3.1下拉列表 Drop Down List	5
3.2 树形列表 Tree List	5
3.3 表格数据 Table	5
3.4 图表信息 Charts	5
第四章 通用格式约定	6
4.1返回状态信息约定	6
4.2其他格式约定	6


 
第一章 前言
1.1编写目的
本文档是为xxx系统项目编写的接口设计说明书，主要目的是使前后端开发人员对系统需要完成的功能和具体接口实现达成共识，并保持一致；使双方对系统的功能点和数据交互形式有共同理解并作为开发过程和结果验收的依据，以便共同决策和协调一致地工作。
本文档是对前后端交互的具体规定，可作为测试和后续维护升级的参考依据。
1.2 术语和缩略语
表 1.1 系统术语和缩略语说明表
术语和缩略语	含义
JSON	后端接口返回的默认数据格式，如用到其他格式，需特殊说明
	

 
第二章 功能接口定义
2.1模块名称1
2.1.1 接口名称1
以下格式，可任选一种进行文档编写

格式1：

POST  /component/saveComponentPart
请求参数：
{
     "bgcount": null,  ·//要有字段的中文含义，长度范围和数据格式，必填、非必填等说明信息
     "checkType": "技研",		//检验类型，长度2-10， 字符串，非必填
     "courierNumber": "222",		//快递单号 ，长度2-10， 字符串，非必填
	"recoverdept":"计划室"		//接收科室，长度2-10， 字符串，非必填
}

响应成功：业务逻辑正常时返回
{
  "data": { xx: xx },		//数据主体，格式说明：…要有样例数据
  "message": "",		//提示信息，ok=false且返回码为-5时显示给用户
  "ok": true, 			//请求状态信息，true为成功，false为失败
  "respCode": "0" 	//返回码，-1表示登录失效
}

备注： 
特殊字段或者需要特殊处理字段的补充说明，防止歧义
例如
status;  // 1：待检   2：检验中 3：完成;

格式1说明，响应失败（业务逻辑异常）或者其他需要前端特殊处理的信息，在第四章 4.1的通用格式中规定，包括状态码判断和错误信息的显示等内容。此种形式较为直观，跟swagger中的形式类似，推荐使用。



格式2： 
基础信息： 基础模块（系统管理）用户信息
接口描述	接口路径	传输方式	是否传参	完成情况	负责人
获取用户列表信息	/api/sys/hpm05user/page	GET/POST/PUT/DETELE	否	已	**

传参内容：
参数	参数名称	格式	字段长度	属性	是否必填	区分大小写
userID	用户ID	123456	20字符	String	是	是
creatDate	创建时间	2018-12-23	无	Date	是	是

返回内容：
参数	参数名称	格式	字段长度	属性	备注
userName	用户ID	ADC	20字符	String	

信息返回格式：
{
count:10, 
ok:true,
data：{
userID: ‘1234’,
username:’ADC’,
…
}
}
备注
必须传orderBy属性 
第三章 常见组件接口格式约定
3.1下拉列表 Drop Down List
{
        respCode: "0",
        ok:true,
        message:"",
        data:[{name:"",id:""},{name:"",id:""}....] //name：中文名称，id：对应的码值
    }
3.2 树形列表 Tree List
{
        respCode: "0",
        ok:true,
        message:"",
        data:[{name:"",id:"",pid:""},{name:"",id:"",pid:""}....] //name：中文名称，id：对应的码值, pid：父节点码值
    }
3.3 表格数据 Table
分页：后台接收分页参数信息为pageSize,pageNo
    {
        respCode: "0",
        ok:true,
        message:"",
        data:[
             pageNo: 1,
             pageSize: 10,
             count: 239,
             pageCount: 10,
             list:[ { }, { }...]
        ]
}

未分页：
    {
        respCode: "0",
        ok:true,
        message:"",
        data:[ { }, { }....]
}

3.4 图表信息 Charts
柱状图：
    {
        respCode: "0",
        ok:true,
        message:"",
        data:[ {"name":"星期一","value":100},{"name":"星期二","value":100},{ }....] 
//name:x轴数据，value:y轴数据，y轴数据有多条依次value1、value2....
    }
饼状图、折线图同柱状图:
name为每个扇形名称，value为每个扇形对应的值（饼状图）
第四章 通用格式约定
4.1返回状态信息约定

{
"message": "xx",		//提示信息，ok=false且返回码为-2时显示给用户
  	"ok": false, 			//请求状态信息，true为成功，false为失败
  	"respCode":  负数表示业务逻辑错误 	//返回码，-1表示登录失效
}

字段说明：
message，附加文字信息，非必须，可用于提示文字
ok，表明请求结果正确与否，当为false时，表示发生了错误；
respCode,用于判断返回的消息类型，约定如下

状态码	含义	提示信息	备注
-1	登录失效或未授权	登录失效或未授权	前端需提示并跳转至登录页
-2	其他错误信息	Message内容	
			

原则上，错误信息提示由后台返回，写入message字段，对于常见且固定的提示（错误或正确提示），可根据项目具体情况进行约定，状态码和提示文字在表格中补充完整即可。

4.2其他格式约定
根据具体项目情况编写
 

